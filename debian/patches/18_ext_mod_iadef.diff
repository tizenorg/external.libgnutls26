From 504f2a10130b5c9592e3b570eab50dfcaa3d3456 Mon Sep 17 00:00:00 2001
From: Nikos Mavrogiannopoulos <nmav@gnutls.org>
Date: Fri, 25 Mar 2011 20:23:35 +0100
Subject: [PATCH 1/8] Define ext_mod_ia in gnutls_ia.c only.

---
 libextra/ext_inner_application.h |    2 +-
 libextra/gnutls_ia.c             |    2 ++
 2 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/libextra/ext_inner_application.h b/libextra/ext_inner_application.h
index a137c08..c641a99 100644
--- a/libextra/ext_inner_application.h
+++ b/libextra/ext_inner_application.h
@@ -31,7 +31,7 @@
 #define IA_ENABLE (1 << 3)
 #define IA_ALLOW_SKIP (1 << 4)
 
-extension_entry_st ext_mod_ia;
+extern extension_entry_st ext_mod_ia;
 
 typedef struct
 {
diff --git a/libextra/gnutls_ia.c b/libextra/gnutls_ia.c
index e692bde..12a049f 100644
--- a/libextra/gnutls_ia.c
+++ b/libextra/gnutls_ia.c
@@ -30,6 +30,8 @@
 
 #define CHECKSUM_SIZE 12
 
+extension_entry_st ext_mod_ia;
+
 struct gnutls_ia_client_credentials_st
 {
   gnutls_ia_avp_func avp_func;
-- 
1.7.2.5

